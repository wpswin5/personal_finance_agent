"use strict";(self.webpackChunkfinance_frontend=self.webpackChunkfinance_frontend||[]).push([[996],{996:(a,e,s)=>{s.r(e),s.d(e,{default:()=>p});var n=s(43),c=s(447),i=s(722),r=s(981),d=s(376),t=s(459),l=s(658),o=s(574),h=s(579);const x=a=>{let{data:e=[],width:s=140,height:n=48,stroke:c="#06b6d4"}=a;if(!e||0===e.length)return null;const i=Math.max(...e),r=Math.min(...e),d=e.length,t=e.map((a,e)=>"".concat((a=>4+a/(d-1)*(s-8))(e),",").concat((a=>i===r?n/2:4+(1-(a-r)/(i-r))*(n-8))(a))).join(" ");return(0,h.jsx)("svg",{width:s,height:n,viewBox:"0 0 ".concat(s," ").concat(n),preserveAspectRatio:"none","aria-hidden":!0,children:(0,h.jsx)("polyline",{points:t,fill:"none",stroke:c,strokeWidth:1.8,strokeLinecap:"round",strokeLinejoin:"round",opacity:.95})})},j=a=>{let{data:e=[],width:s=520,height:n=160,stroke:c="#0ea5ff",fill:i="rgba(14,165,255,0.08)"}=a;if(!e||0===e.length)return(0,h.jsx)("div",{style:{width:s,height:n,display:"flex",alignItems:"center",justifyContent:"center",color:"#9aa4b2"},children:"No data"});const r=Math.max(...e),d=Math.min(...e),t=e.length,l=a=>8+a/(t-1)*(s-16),o=a=>r===d?n/2:8+(1-(a-d)/(r-d))*(n-16),x=e.map((a,e)=>"".concat(l(e),",").concat(o(a))).join(" "),j="M ".concat(8,",").concat(n-8," L ").concat(x.split(" ").map(a=>a).join(" L ")," L ").concat(s-8,",").concat(n-8," Z");return(0,h.jsxs)("svg",{width:s,height:n,viewBox:"0 0 ".concat(s," ").concat(n),preserveAspectRatio:"none",role:"img","aria-label":"line chart",children:[(0,h.jsx)("path",{d:j,fill:i,stroke:"none"}),(0,h.jsx)("polyline",{points:x,fill:"none",stroke:c,strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),e.map((a,e)=>(0,h.jsx)("circle",{cx:l(e),cy:o(a),r:2.2,fill:c},e))]})},p=()=>{const{getAccessTokenSilently:a,user:e,isAuthenticated:s}=(0,c.WB)(),[p,m]=(0,n.useState)(null),[u,v]=(0,n.useState)(!0);return(0,n.useEffect)(()=>{(async()=>{if(s)try{const e=await a({audience:"https://fastapiexample.com",scope:"test:read"}),s=await i.A.get("http://localhost:8000/user/me",{headers:{Authorization:"Bearer ".concat(e)}});m(s.data)}catch(e){console.error(e)}finally{v(!1)}})()},[s,a]),u?(0,h.jsx)("div",{className:"dashboard-container",children:(0,h.jsx)("div",{className:"loading-spinner",children:"Loading..."})}):(0,h.jsxs)("div",{className:"dashboard-container",children:[(0,h.jsxs)("div",{className:"dashboard-header",children:[(0,h.jsxs)("h1",{children:["Welcome back, ",(null===e||void 0===e?void 0:e.name)||(null===e||void 0===e?void 0:e.email),"!"]}),(0,h.jsx)("p",{children:"Here's your financial overview"})]}),(0,h.jsxs)("div",{className:"dashboard-stats",children:[(0,h.jsxs)("div",{className:"stat-card",children:[(0,h.jsx)("h4",{children:"Net worth"}),(0,h.jsx)("div",{className:"chart-placeholder",children:(0,h.jsx)(j,{data:[1200,1400,1500,1300,1550,1700,1600],width:520,height:140})})]}),(0,h.jsxs)("div",{className:"stat-card small",children:[(0,h.jsx)("h4",{children:"Spending (30d)"}),(0,h.jsx)("div",{className:"chart-placeholder small",children:(0,h.jsx)(x,{data:[200,150,180,220,140,190,210,240,200,170,190]})})]})]}),(0,h.jsxs)("div",{className:"dashboard-grid",children:[(0,h.jsxs)(r.N_,{to:"/accounts",className:"dashboard-card card-link-wrapper",children:[(0,h.jsx)("div",{className:"card-icon",children:(0,h.jsx)(d.A,{size:36})}),(0,h.jsxs)("div",{className:"card-content",children:[(0,h.jsx)("h3",{children:"Bank Accounts"}),(0,h.jsx)("p",{children:"Connect and manage your bank accounts"}),(0,h.jsx)("span",{className:"card-link",children:"View Accounts \u2192"})]})]}),(0,h.jsxs)(r.N_,{to:"/profile",className:"dashboard-card card-link-wrapper",children:[(0,h.jsx)("div",{className:"card-icon",children:(0,h.jsx)(t.A,{size:36})}),(0,h.jsxs)("div",{className:"card-content",children:[(0,h.jsx)("h3",{children:"Profile"}),(0,h.jsx)("p",{children:"View and manage your user profile"}),(0,h.jsx)("span",{className:"card-link",children:"View Profile \u2192"})]})]}),(0,h.jsxs)(r.N_,{to:"/households",className:"dashboard-card card-link-wrapper",children:[(0,h.jsx)("div",{className:"card-icon",children:(0,h.jsx)(l.A,{size:36})}),(0,h.jsxs)("div",{className:"card-content",children:[(0,h.jsx)("h3",{children:"Households"}),(0,h.jsx)("p",{children:"Manage household-linked accounts and aggregated balances"}),(0,h.jsx)("span",{className:"card-link",children:"View Households \u2192"})]})]}),(0,h.jsxs)(r.N_,{to:"/agent",className:"dashboard-card card-link-wrapper",children:[(0,h.jsx)("div",{className:"card-icon",children:(0,h.jsx)(o.A,{size:36})}),(0,h.jsxs)("div",{className:"card-content",children:[(0,h.jsx)("h3",{children:"AI Assistant"}),(0,h.jsx)("p",{children:"Chat with your financial advisor"}),(0,h.jsx)("span",{className:"card-link",children:"Start Chat \u2192"})]})]})]})]})}}}]);
//# sourceMappingURL=996.e9e80081.chunk.js.map